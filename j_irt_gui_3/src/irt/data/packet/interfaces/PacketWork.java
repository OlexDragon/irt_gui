package irt.data.packet.interfaces;

import java.util.Arrays;
import java.util.Optional;

import irt.data.listener.ValueChangeListener;
import irt.data.packet.PacketAbstract.Priority;

public interface PacketWork extends Comparable<PacketWork>{

	public static final short PACKET_UNNECESSARY = 0;

	public static final short PACKET_ID_DEVICE_INFO = 1;

	public static final short PACKET_ID_MEASUREMENT_ALL 					= 9,
							PACKET_ID_MEASUREMENT_STATUS 					= 10,
							PACKET_ID_MEASUREMENT_INPUT_POWER				= 11,
							PACKET_ID_MEASUREMENT_BAIAS_25W_OUTPUT_POWER 	= 12,
							PACKET_ID_MEASUREMENT_TEMPERATURE 				= 13,
							PACKET_ID_MEASUREMENT_UNIT_TEMPERATURE			= 14,
							PACKET_ID_MEASUREMENT_CPU_TEMPERATURE			= 15,
							PACKET_ID_MEASUREMENT_5V5 						= 16,
							PACKET_ID_MEASUREMENT_13V2 						= 17,
							PACKET_ID_MEASUREMENT_13V2_NEG					= 18,
							PACKET_ID_MEASUREMENT_OUTPUT_POWER 				= 19,
							PACKET_ID_MEASUREMENT_SNB1_STATUS 				= 180,
							PACKET_ID_MEASUREMENT_SNB2_STATUS 				= 181,
							PACKET_ID_MEASUREMENT_WGS_POSITION 				= 182;

	public static final short 	PACKET_ID_CONFIGURATION_LO		= 20,
								PACKET_ID_CONFIGURATION_LO_FREQUENCIES 		= 21,
								PACKET_ID_CONFIGURATION_MUTE 				= 22,
								PACKET_ID_CONFIGURATION_GAIN				= 23,
								PACKET_ID_CONFIGURATION_GAIN_RANGE 			= 24,
								PACKET_ID_CONFIGURATION_ATTENUATION			= 25,
								PACKET_ID_CONFIGURATION_ATTENUATION_RANGE 	= 26,
								PACKET_ID_CONFIGURATION_FREQUENCY 			= 27,
								PACKET_ID_CONFIGURATION_FREQUENCY_RANGE 	= 28,
								PACKET_ID_STORE_CONFIG						= 29,
								PACKET_ID_CONFIGURATION_FCM_LNB_POWER		= 30,
								PACKET_ID_CONFIGURATION_GAIN_OFFSET			= 31,
								PACKET_ID_CONFIGURATION_FCM_FLAGS 			= 32,
								PACKET_ID_CONFIGURATION_REDUNDANCY_ENABLE	= 33,
								PACKET_ID_CONFIGURATION_REDUNDANCY_MODE		= 34,
								PACKET_ID_CONFIGURATION_REDUNDANCY_NAME		= 35,
								PACKET_ID_CONFIGURATION_REDUNDANCY_STATUS	= 36,
								PACKET_ID_CONFIGURATION_REDUNDANCY_SET_ONLINE= 37,
								PACKET_ID_CONFIGURATION_MUTE_OUTDOOR		= 38,
								PACKET_ID_CONFIGURATION_ALC_ENABLE			= 39,
								PACKET_ID_CONFIGURATION_ALC_ENABLE_COMAND	= 170,
								PACKET_ID_CONFIGURATION_ALC_LEVEL			= 171,
								PACKET_ID_CONFIGURATION_ALC_RANGE			= 172,
								PACKET_ID_CONFIGURATION_DLRS_WGS_SWITCHOVER	= 173,
								PACKET_ID_CONFIGURATION_SET_DLRS_WGS_SWITCHOVER = 174,
								PACKET_ID_CONFIGURATION_SPECTRUM_INVERSION 		= 175,
								PACKET_ID_CONFIGURATION_SET_SPECTRUM_INVERSION 	= 176,
								PACKET_ID_CONFIGURATION_REFERENCE_CONTROL		= 177,
								PACKET_ID_CONFIGURATION_FCM_LNB_REFERENCE		= 178;

	public static final short 	PACKET_ID_FCM_DEVICE_DEBUG_PLL_REG 	= 70;

	public static final short 	PACKET_ID_FCM_ADC_INPUT_POWER 	= 80,
								PACKET_ID_FCM_ADC_OUTPUT_POWER	= 81,
								PACKET_ID_FCM_ADC_TEMPERATURE 	= 82,
								PACKET_ID_FCM_ADC_CURRENT 		= 83,
								PACKET_ID_FCM_ADC_5V5 			= 84,
								PACKET_ID_FCM_ADC_13v2 			= 85,
								PACKET_ID_FCM_ADC_13V2_NEG		= 86;

	public static final short PACKET_ID_PRODUCTION_GENERIC_SET_1_INITIALIZE = 120;

	public static final short PACKET_ID_NETWORK_ADDRESS = 130;


	public static final short 	PACKET_ID_ALARMS_IDs = 140,
								PACKET_ID_ALARMS_SUMMARY			= 141,
								PACKET_ID_ALARMS_OWER_CURRENT		= 142,
								PACKET_ID_ALARMS_UNDER_CURRENT		= 143,
								PACKET_ID_ALARMS_OWER_TEMPERATURE	= 144,
								PACKET_ID_ALARMS_PLL_OUT_OF_LOCK	= 145,
								PACKET_ID_ALARMS_HARDWARE_FAULT		= 146,
								PACKET_ID_ALARMS_REDUNDANT_FAULT	= 147,
								PACKET_ID_ALARMS_test				= 148,
								PACKET_ID_NO_INPUT_SIGNAL 			= 149,
								PACKET_ID_RF_OVERDRIVEL 			= 160,
								PACKET_ID_ALARMS_STATUS			 	= 161;

	public static final short 	PACKET_ID_DEVICE_DEBUG			 		= 1147,

								PACKET_ID_DEVICE_DEBUG_CALIBRATION_MODE 		= PACKET_ID_DEVICE_DEBUG + 0,
								PACKET_ID_DEVICE_DEVICE_DEBUG_CONVERTER_PLL_1 	= PACKET_ID_DEVICE_DEBUG + 1,
								PACKET_ID_DEVICE_DEVICE_DEBUG_CONVERTER_PLL_2 	= PACKET_ID_DEVICE_DEBUG + 2,
								PACKET_ID_DEVICE_DEBUG_DEVICE_INFO				= PACKET_ID_DEVICE_DEBUG + 3,
								PACKET_ID_DEVICE_POTENTIOMETERS_INIT			= PACKET_ID_DEVICE_DEBUG + 4,
								PACKET_ID_DEVICE_DEBUG_HELP 					= PACKET_ID_DEVICE_DEBUG + 5,

								PACKET_ID_DEVICE_FCM_INDEX_1			 		= PACKET_ID_DEVICE_DEBUG + 255,
								//FCM packet IDs mixed index and address
								PACKET_ID_DEVICE_CONVERTER_DAC1_FCM				= PACKET_ID_DEVICE_FCM_INDEX_1 + 1,	// PACKET_ID_DEVICE_FCM_INDEX_1 + address
								PACKET_ID_DEVICE_CONVERTER_DAC2_FCM				= PACKET_ID_DEVICE_FCM_INDEX_1 + 2,
								PACKET_ID_DEVICE_CONVERTER_DAC3_FCM				= PACKET_ID_DEVICE_FCM_INDEX_1 + 3,
								PACKET_ID_DEVICE_CONVERTER_DAC4_FCM				= PACKET_ID_DEVICE_FCM_INDEX_1 + 4,

								//address = 0
								PACKET_ID_DEVICE_DEBUG_ADDR_0			 		= PACKET_ID_DEVICE_FCM_INDEX_1 + 255,
								PACKET_ID_DEVICE_DEBUG_POTENTIOMETER_N2 		= PACKET_ID_DEVICE_DEBUG_ADDR_0 + 1,	//PACKET_ID_DEVICE_DEBUG_ADDR_0 + index
								PACKET_ID_DEVICE_DEBUG_POTENTIOMETER_N5 		= PACKET_ID_DEVICE_DEBUG_ADDR_0 + 2,
								PACKET_ID_DEVICE_DEBUG_POTENTIOMETER_N4 		= PACKET_ID_DEVICE_DEBUG_ADDR_0 + 7,


								//address = 1
								PACKET_ID_DEVICE_DEBUG_ADDR_1			 		= PACKET_ID_DEVICE_DEBUG_ADDR_0 + 255,
								PACKET_ID_DEVICE_DEBUG_SWITCH_N1		 		= PACKET_ID_DEVICE_DEBUG_ADDR_1 + 3,	//PACKET_ID_DEVICE_DEBUG_ADDR_1 + index
								PACKET_ID_DEVICE_DEBUG_SWITCH_N2				= PACKET_ID_DEVICE_DEBUG_ADDR_1 + 4,
								PACKET_ID_DEVICE_DEBUG_HS1_CURRENT 				= PACKET_ID_DEVICE_DEBUG_ADDR_1 + 5,
								PACKET_ID_DEVICE_DEBUG_NGLOBAL 					= PACKET_ID_DEVICE_DEBUG_ADDR_1 + 6,
								PACKET_ID_DEVICE_DEBUG_SWITCH_N1_REMOTE_BIAS	= PACKET_ID_DEVICE_DEBUG_ADDR_1 + 203,
								PACKET_ID_DEVICE_DEBUG_SWITCH_N2_REMOTE_BIAS	= PACKET_ID_DEVICE_DEBUG_ADDR_1 + 204,
								PACKET_ID_DEVICE_DEBUG_HS1_CURRENT_REMOTE_BIAS	= PACKET_ID_DEVICE_DEBUG_ADDR_1 + 205,
								PACKET_ID_DEVICE_DEBUG_NGLOBAL_REMOTE_BIAS 		= PACKET_ID_DEVICE_DEBUG_ADDR_1 + 206,

								//address = 2
								PACKET_ID_DEVICE_DEBUG_ADDR_2			 		= PACKET_ID_DEVICE_DEBUG_ADDR_1 + 255,
								PACKET_ID_DEVICE_DEBUG_HS2_CURRENT 				= PACKET_ID_DEVICE_DEBUG_ADDR_2 + 5,	//PACKET_ID_DEVICE_DEBUG_ADDR_2 + index
								PACKET_ID_DEVICE_DEBUG_HS2_CURRENT_REMOTE_BIAS	= PACKET_ID_DEVICE_DEBUG_ADDR_2 + 205,

								//address = 3
								PACKET_ID_DEVICE_DEBUG_ADDR_3			 		= PACKET_ID_DEVICE_DEBUG_ADDR_2 + 255,
								PACKET_ID_DEVICE_DEBUG_POTRNTIOMETER_N2_SET 	= PACKET_ID_DEVICE_DEBUG_ADDR_3 + 1,	//PACKET_ID_DEVICE_DEBUG_ADDR_3 + index
								PACKET_ID_DEVICE_DEBUG_POTRNTIOMETER_N5_SET		= PACKET_ID_DEVICE_DEBUG_ADDR_3 + 2,
								PACKET_ID_DEVICE_DEBUG_OUTPUT_POWER 			= PACKET_ID_DEVICE_DEBUG_ADDR_3 + 5,
								PACKET_ID_DEVICE_DEBUG_POTRNTIOMETER_N4_SET		= PACKET_ID_DEVICE_DEBUG_ADDR_3 + 7,

								//address = 4
								PACKET_ID_DEVICE_DEBUG_ADDR_4			 		= PACKET_ID_DEVICE_DEBUG_ADDR_3 + 255,
								PACKET_ID_DEVICE_DEBUG_TEMPERATURE 				= PACKET_ID_DEVICE_DEBUG_ADDR_4 + 5,	//PACKET_ID_DEVICE_DEBUG_ADDR_4 + index
								PACKET_ID_DEVICE_DEBUG_TEMPERATURE_REMOTE_BIAS	= PACKET_ID_DEVICE_DEBUG_ADDR_4 + 205,

								//address = 8
								PACKET_ID_DEVICE_DEBUG_ADDR_8			 		= PACKET_ID_DEVICE_DEBUG_ADDR_4 + 255,
								PACKET_ID_DEVICE_DEBUG_POTENTIOMETER_N1 		= PACKET_ID_DEVICE_DEBUG_ADDR_8 + 1,	//PACKET_ID_DEVICE_DEBUG_ADDR_8 + index
								PACKET_ID_DEVICE_DEBUG_POTENTIOMETER_N6 		= PACKET_ID_DEVICE_DEBUG_ADDR_8 + 2,
								PACKET_ID_DEVICE_DEBUG_POTENTIOMETER_N3 		= PACKET_ID_DEVICE_DEBUG_ADDR_8 + 7,

								//address = 11
								PACKET_ID_DEVICE_DEBUG_ADDR_11			 		= PACKET_ID_DEVICE_DEBUG_ADDR_8 + 255,
								PACKET_ID_DEVICE_DEBUG_POTRNTIOMETER_N1_SET 	= PACKET_ID_DEVICE_DEBUG_ADDR_11 + 1,	//PACKET_ID_DEVICE_DEBUG_ADDR_11 + index
								PACKET_ID_DEVICE_DEBUG_POTRNTIOMETER_N3_SET		= PACKET_ID_DEVICE_DEBUG_ADDR_11 + 2,
								PACKET_ID_DEVICE_DEBUG_POTRNTIOMETER_N6_SET		= PACKET_ID_DEVICE_DEBUG_ADDR_11 + 7,

								//address = 100
								PACKET_ID_DEVICE_DEBUG_ADDR_100			 		= PACKET_ID_DEVICE_DEBUG_ADDR_11 + 255,
								PACKET_ID_DEVICE_CONVERTER_DAC1 				= PACKET_ID_DEVICE_DEBUG_ADDR_100 + 1,	//PACKET_ID_DEVICE_DEBUG_ADDR_100 + index
								PACKET_ID_DEVICE_CONVERTER_DAC2 				= PACKET_ID_DEVICE_DEBUG_ADDR_100 + 2,
								PACKET_ID_DEVICE_CONVERTER_DAC3 				= PACKET_ID_DEVICE_DEBUG_ADDR_100 + 3,
								PACKET_ID_DEVICE_CONVERTER_DAC4 				= PACKET_ID_DEVICE_DEBUG_ADDR_100 + 4;

	//Dumps to file
		public static final short	DUMPS										= PACKET_ID_DEVICE_DEBUG_ADDR_100 + 255,	// Start of dump indexes
									PACKET_ID_DUMP_DEVICE_DEBUG_DEVICE_INFO_0	= DUMPS + 0,	//Index 0.  Board info, like: CPU frequency, CPU reset type, CPU clock source, Local temperature
									PACKET_ID_DUMP_DEVICE_DEBUG_DEVICE_INFO_1	= DUMPS + 1,	//Index 1.  Board error info
									PACKET_ID_DUMP_DEVICE_DEBUG_DEVICE_INFO_2	= DUMPS + 2,	//Index 2.  Threshold info, like:  Zero current, Over-current HSS1, Over-current HSS2, Over-temperature mute, Over-temperature unmute
									PACKET_ID_DUMP_DEVICE_DEBUG_DEVICE_INFO_3	= DUMPS + 3,	//Index 3.  I2C error statistics
									PACKET_ID_DUMP_DEVICE_DEBUG_DEVICE_INFO_4	= DUMPS + 4,	//Index 4.  Mute state machine flags in format: Flag_name: Current_flag (History_flag)
									PACKET_ID_DUMP_DEVICE_DEBUG_DEVICE_INFO_10	= DUMPS + 10,	//Index 10.  FCM info
									PACKET_ID_DUMP_DEVICE_DEBUG_DEVICE_INFO_11	= DUMPS + 11,	//Index 11. 
									PACKET_ID_DUMP_POWER						= DUMPS + 24,

									DEVICES										= DUMPS + 250,
									PACKET_ID_CLEAR_STATISTICS 					= DEVICES + 0,
									PACKET_ID_DUMP_REGISTER_1					= DEVICES + 1,
									PACKET_ID_DUMP_REGISTER_2					= DEVICES + 2,
									PACKET_ID_DUMP_REGISTER_3					= DEVICES + 3,
									PACKET_ID_DUMP_REGISTER_4					= DEVICES + 4,
									PACKET_ID_DUMP_REGISTER_5					= DEVICES + 5,
									PACKET_ID_DUMP_REGISTER_6					= DEVICES + 6,
									PACKET_ID_DUMP_REGISTER_7					= DEVICES + 7,
									PACKET_ID_DUMP_REGISTER_10					= DEVICES + 10,
									PACKET_ID_DUMP_REGISTER_100					= DEVICES + 100,
									PACKET_ID_DUMP_REGISTER_201					= DEVICES + 201,
									PACKET_ID_DUMP_REGISTER_202					= DEVICES + 202,
									PACKET_ID_DUMP_REGISTER_207					= DEVICES + 207,
									PACKET_ID_DUMP_REGISTER_220					= DEVICES + 220;

		public static final short	PACKET_ID_PROTO_RETRANSNIT	= DEVICES + 255;

		public enum PacketIDs{

			UNNECESSARY (PACKET_UNNECESSARY),

			DEVICE_INFO (PACKET_ID_DEVICE_INFO),

			MEASUREMENT_ALL 					(PACKET_ID_MEASUREMENT_ALL),
			MEASUREMENT_STATUS 					(PACKET_ID_MEASUREMENT_STATUS),
			MEASUREMENT_INPUT_POWER				(PACKET_ID_MEASUREMENT_INPUT_POWER),
			MEASUREMENT_BAIAS_25W_OUTPUT_POWER 	(PACKET_ID_MEASUREMENT_BAIAS_25W_OUTPUT_POWER),
			MEASUREMENT_TEMPERATURE 			(PACKET_ID_MEASUREMENT_TEMPERATURE),
			MEASUREMENT_UNIT_TEMPERATURE		(PACKET_ID_MEASUREMENT_UNIT_TEMPERATURE),
			MEASUREMENT_CPU_TEMPERATURE			(PACKET_ID_MEASUREMENT_CPU_TEMPERATURE),
			MEASUREMENT_5V5 					(PACKET_ID_MEASUREMENT_5V5),
			MEASUREMENT_13V2 					(PACKET_ID_MEASUREMENT_13V2),
			MEASUREMENT_13V2_NEG				(PACKET_ID_MEASUREMENT_13V2_NEG),
			MEASUREMENT_OUTPUT_POWER 			(PACKET_ID_MEASUREMENT_OUTPUT_POWER),
			MEASUREMENT_SNB1_STATUS 			(PACKET_ID_MEASUREMENT_SNB1_STATUS),
			MEASUREMENT_SNB2_STATUS 			(PACKET_ID_MEASUREMENT_SNB2_STATUS),
			MEASUREMENT_WGS_POSITION 			(PACKET_ID_MEASUREMENT_WGS_POSITION),

			CONFIGURATION_LO					(PACKET_ID_CONFIGURATION_LO),
			CONFIGURATION_LO_FREQUENCIES 		(PACKET_ID_CONFIGURATION_LO_FREQUENCIES),
			CONFIGURATION_MUTE 					(PACKET_ID_CONFIGURATION_MUTE),
			CONFIGURATION_GAIN					(PACKET_ID_CONFIGURATION_GAIN),
			CONFIGURATION_GAIN_RANGE 			(PACKET_ID_CONFIGURATION_GAIN_RANGE),
			CONFIGURATION_ATTENUATION			(PACKET_ID_CONFIGURATION_ATTENUATION),
			CONFIGURATION_ATTENUATION_RANGE 	(PACKET_ID_CONFIGURATION_ATTENUATION_RANGE),
			CONFIGURATION_FREQUENCY 			(PACKET_ID_CONFIGURATION_FREQUENCY),
			CONFIGURATION_FREQUENCY_RANGE 		(PACKET_ID_CONFIGURATION_FREQUENCY_RANGE),
			STORE_CONFIG						(PACKET_ID_STORE_CONFIG),
			CONFIGURATION_FCM_LNB_POWER			(PACKET_ID_CONFIGURATION_FCM_LNB_POWER),
			CONFIGURATION_GAIN_OFFSET			(PACKET_ID_CONFIGURATION_GAIN_OFFSET),
			CONFIGURATION_FCM_FLAGS 			(PACKET_ID_CONFIGURATION_FCM_FLAGS),
			CONFIGURATION_REDUNDANCY_ENABLE		(PACKET_ID_CONFIGURATION_REDUNDANCY_ENABLE),
			CONFIGURATION_REDUNDANCY_MODE		(PACKET_ID_CONFIGURATION_REDUNDANCY_MODE),
			CONFIGURATION_REDUNDANCY_NAME		(PACKET_ID_CONFIGURATION_REDUNDANCY_NAME),
			CONFIGURATION_REDUNDANCY_STATUS		(PACKET_ID_CONFIGURATION_REDUNDANCY_STATUS),
			CONFIGURATION_REDUNDANCY_SET_ONLINE	(PACKET_ID_CONFIGURATION_REDUNDANCY_SET_ONLINE),
			CONFIGURATION_MUTE_OUTDOOR			(PACKET_ID_CONFIGURATION_MUTE_OUTDOOR),
			CONFIGURATION_ALC_ENABLE			(PACKET_ID_CONFIGURATION_ALC_ENABLE),
			CONFIGURATION_ALC_ENABLE_COMAND		(PACKET_ID_CONFIGURATION_ALC_ENABLE_COMAND),
			CONFIGURATION_ALC_LEVEL				(PACKET_ID_CONFIGURATION_ALC_LEVEL),
			CONFIGURATION_ALC_RANGE				(PACKET_ID_CONFIGURATION_ALC_RANGE),
			CONFIGURATION_DLRS_WGS_SWITCHOVER	(PACKET_ID_CONFIGURATION_DLRS_WGS_SWITCHOVER),
			CONFIGURATION_SET_DLRS_WGS_SWITCHOVER (PACKET_ID_CONFIGURATION_SET_DLRS_WGS_SWITCHOVER),
			CONFIGURATION_SPECTRUM_INVERSION 	(PACKET_ID_CONFIGURATION_SPECTRUM_INVERSION),
			CONFIGURATION_SET_SPECTRUM_INVERSION(PACKET_ID_CONFIGURATION_SET_SPECTRUM_INVERSION),
			CONFIGURATION_REFERENCE_CONTROL		(PACKET_ID_CONFIGURATION_REFERENCE_CONTROL),
			CONFIGURATION_FCM_LNB_REFERENCE		(PACKET_ID_CONFIGURATION_FCM_LNB_REFERENCE),

			FCM_DEVICE_DEBUG_PLL_REG 	(PACKET_ID_FCM_DEVICE_DEBUG_PLL_REG),

			FCM_ADC_INPUT_POWER 	(PACKET_ID_FCM_ADC_INPUT_POWER),
			FCM_ADC_OUTPUT_POWER	(PACKET_ID_FCM_ADC_OUTPUT_POWER),
			FCM_ADC_TEMPERATURE 	(PACKET_ID_FCM_ADC_TEMPERATURE),
			FCM_ADC_CURRENT 		(PACKET_ID_FCM_ADC_CURRENT),
			FCM_ADC_5V5 			(PACKET_ID_FCM_ADC_5V5),
			FCM_ADC_13v2 			(PACKET_ID_FCM_ADC_13v2),
			FCM_ADC_13V2_NEG		(PACKET_ID_FCM_ADC_13V2_NEG),

			PRODUCTION_GENERIC_SET_1_INITIALIZE (PACKET_ID_PRODUCTION_GENERIC_SET_1_INITIALIZE),

			NETWORK_ADDRESS (PACKET_ID_NETWORK_ADDRESS),


			ALARMS_IDs 				(PACKET_ID_ALARMS_IDs),
			ALARMS_SUMMARY			(PACKET_ID_ALARMS_SUMMARY),
			ALARMS_OWER_CURRENT		(PACKET_ID_ALARMS_OWER_CURRENT),
			ALARMS_UNDER_CURRENT	(PACKET_ID_ALARMS_UNDER_CURRENT),
			ALARMS_OWER_TEMPERATURE	(PACKET_ID_ALARMS_OWER_TEMPERATURE),
			ALARMS_PLL_OUT_OF_LOCK	(PACKET_ID_ALARMS_PLL_OUT_OF_LOCK),
			ALARMS_HARDWARE_FAULT	(PACKET_ID_ALARMS_HARDWARE_FAULT),
			ALARMS_REDUNDANT_FAULT	(PACKET_ID_ALARMS_REDUNDANT_FAULT),
			ALARMS_test				(PACKET_ID_ALARMS_test),
			ALARMS_NO_INPUT_SIGNAL 	(PACKET_ID_NO_INPUT_SIGNAL),
			ALARMS_RF_OVERDRIVEL 		(PACKET_ID_RF_OVERDRIVEL),
			ALARMS_STATUS			 (PACKET_ID_ALARMS_STATUS),

			DEVICE_DEBUG_CALIBRATION_MODE 		(PACKET_ID_DEVICE_DEBUG_CALIBRATION_MODE),
			DEVICE_DEVICE_DEBUG_CONVERTER_PLL_1 (PACKET_ID_DEVICE_DEVICE_DEBUG_CONVERTER_PLL_1),
			DEVICE_DEVICE_DEBUG_CONVERTER_PLL_2 (PACKET_ID_DEVICE_DEVICE_DEBUG_CONVERTER_PLL_2),
			DEVICE_DEBUG_DEVICE_INFO			(PACKET_ID_DEVICE_DEBUG_DEVICE_INFO),
			DEVICE_POTENTIOMETERS_INIT			(PACKET_ID_DEVICE_POTENTIOMETERS_INIT),
			DEVICE_DEBUG_HELP 					(PACKET_ID_DEVICE_DEBUG_HELP),

			DEVICE_FCM_INDEX_1			 		(PACKET_ID_DEVICE_FCM_INDEX_1),
			//FCM packet IDs mixed index and address
			ID_DEVICE_CONVERTER_DAC1_FCM		(PACKET_ID_DEVICE_CONVERTER_DAC1_FCM),	// PACKET_ID_DEVICE_FCM_INDEX_1 + address
			DEVICE_CONVERTER_DAC2_FCM			(PACKET_ID_DEVICE_CONVERTER_DAC2_FCM),
			DEVICE_CONVERTER_DAC3_FCM			(PACKET_ID_DEVICE_CONVERTER_DAC3_FCM),
			DEVICE_CONVERTER_DAC4_FCM			(PACKET_ID_DEVICE_CONVERTER_DAC4_FCM),

			//address = 0
			DEVICE_DEBUG_ADDR_0			 		(PACKET_ID_DEVICE_DEBUG_ADDR_0),
			DEVICE_DEBUG_POTENTIOMETER_N2 		(PACKET_ID_DEVICE_DEBUG_POTENTIOMETER_N2),	//PACKET_ID_DEVICE_DEBUG_ADDR_0 + index
			DEVICE_DEBUG_POTENTIOMETER_N5 		(PACKET_ID_DEVICE_DEBUG_POTENTIOMETER_N5),
			DEVICE_DEBUG_POTENTIOMETER_N4 		(PACKET_ID_DEVICE_DEBUG_POTENTIOMETER_N4),


			//address = 1
			DEVICE_DEBUG_ADDR_1			 		(PACKET_ID_DEVICE_DEBUG_ADDR_1),
			DEVICE_DEBUG_SWITCH_N1		 		(PACKET_ID_DEVICE_DEBUG_SWITCH_N1),	//PACKET_ID_DEVICE_DEBUG_ADDR_1 + index
			DEVICE_DEBUG_SWITCH_N2				(PACKET_ID_DEVICE_DEBUG_SWITCH_N2),
			DEVICE_DEBUG_HS1_CURRENT 			(PACKET_ID_DEVICE_DEBUG_HS1_CURRENT),
			DEVICE_DEBUG_NGLOBAL 				(PACKET_ID_DEVICE_DEBUG_NGLOBAL),
			DEVICE_DEBUG_SWITCH_N1_REMOTE_BIAS	(PACKET_ID_DEVICE_DEBUG_SWITCH_N1_REMOTE_BIAS),
			DEVICE_DEBUG_SWITCH_N2_REMOTE_BIAS	(PACKET_ID_DEVICE_DEBUG_SWITCH_N2_REMOTE_BIAS),
			DEVICE_DEBUG_HS1_CURRENT_REMOTE_BIAS(PACKET_ID_DEVICE_DEBUG_HS1_CURRENT_REMOTE_BIAS),
			DEVICE_DEBUG_NGLOBAL_REMOTE_BIAS 	(PACKET_ID_DEVICE_DEBUG_NGLOBAL_REMOTE_BIAS),

			//address = 2
			DEVICE_DEBUG_ADDR_2			 		(PACKET_ID_DEVICE_DEBUG_ADDR_2),
			DEVICE_DEBUG_HS2_CURRENT 			(PACKET_ID_DEVICE_DEBUG_HS2_CURRENT),	//PACKET_ID_DEVICE_DEBUG_ADDR_2 + index
			DEVICE_DEBUG_HS2_CURRENT_REMOTE_BIAS(PACKET_ID_DEVICE_DEBUG_HS2_CURRENT_REMOTE_BIAS),

			//address = 3
			DEVICE_DEBUG_ADDR_3			 		(PACKET_ID_DEVICE_DEBUG_ADDR_3),
			DEVICE_DEBUG_POTRNTIOMETER_N2_SET 	(PACKET_ID_DEVICE_DEBUG_POTRNTIOMETER_N2_SET),	//PACKET_ID_DEVICE_DEBUG_ADDR_3 + index
			DEVICE_DEBUG_POTRNTIOMETER_N5_SET	(PACKET_ID_DEVICE_DEBUG_POTRNTIOMETER_N5_SET),
			DEVICE_DEBUG_OUTPUT_POWER 			(PACKET_ID_DEVICE_DEBUG_OUTPUT_POWER),
			DEVICE_DEBUG_POTRNTIOMETER_N4_SET	(PACKET_ID_DEVICE_DEBUG_POTRNTIOMETER_N4_SET),

			//address = 4
			ID_DEVICE_DEBUG_ADDR_4			 		(PACKET_ID_DEVICE_DEBUG_ADDR_4),
			DEVICE_DEBUG_TEMPERATURE 				(PACKET_ID_DEVICE_DEBUG_TEMPERATURE),	//PACKET_ID_DEVICE_DEBUG_ADDR_4 + index
			DEVICE_DEBUG_TEMPERATURE_REMOTE_BIAS	(PACKET_ID_DEVICE_DEBUG_TEMPERATURE_REMOTE_BIAS),

			//address = 8
			DEVICE_DEBUG_ADDR_8			 		(PACKET_ID_DEVICE_DEBUG_ADDR_8),
			DEVICE_DEBUG_POTENTIOMETER_N1 		(PACKET_ID_DEVICE_DEBUG_POTENTIOMETER_N1),	//PACKET_ID_DEVICE_DEBUG_ADDR_8 + index
			DEVICE_DEBUG_POTENTIOMETER_N6 		(PACKET_ID_DEVICE_DEBUG_POTENTIOMETER_N6),
			DEVICE_DEBUG_POTENTIOMETER_N3 		(PACKET_ID_DEVICE_DEBUG_POTENTIOMETER_N3),

			//address = 11
			DEVICE_DEBUG_ADDR_11			 	(PACKET_ID_DEVICE_DEBUG_ADDR_11),
			DEVICE_DEBUG_POTRNTIOMETER_N1_SET 	(PACKET_ID_DEVICE_DEBUG_POTRNTIOMETER_N1_SET),	//PACKET_ID_DEVICE_DEBUG_ADDR_11 + index
			DEVICE_DEBUG_POTRNTIOMETER_N3_SET	(PACKET_ID_DEVICE_DEBUG_POTRNTIOMETER_N3_SET),
			DEVICE_DEBUG_POTRNTIOMETER_N6_SET	(PACKET_ID_DEVICE_DEBUG_POTRNTIOMETER_N6_SET),

			//address = 100
			DEVICE_DEBUG_ADDR_100	(PACKET_ID_DEVICE_DEBUG_ADDR_100),
			DEVICE_CONVERTER_DAC1 	(PACKET_ID_DEVICE_CONVERTER_DAC1),	//PACKET_ID_DEVICE_DEBUG_ADDR_100 + index
			DEVICE_CONVERTER_DAC2 	(PACKET_ID_DEVICE_CONVERTER_DAC2),
			DEVICE_CONVERTER_DAC3 	(PACKET_ID_DEVICE_CONVERTER_DAC3),
			DEVICE_CONVERTER_DAC4 	(PACKET_ID_DEVICE_CONVERTER_DAC4),

			DUMP_DEVICE_DEBUG_DEVICE_INFO_0	(PACKET_ID_DUMP_DEVICE_DEBUG_DEVICE_INFO_0),	//Index 0.  Board info, like: CPU frequency, CPU reset type, CPU clock source, Local temperature
			DUMP_DEVICE_DEBUG_DEVICE_INFO_1	(PACKET_ID_DUMP_DEVICE_DEBUG_DEVICE_INFO_1),	//Index 1.  Board error info
			DUMP_DEVICE_DEBUG_DEVICE_INFO_2	(PACKET_ID_DUMP_DEVICE_DEBUG_DEVICE_INFO_2),	//Index 2.  Threshold info, like:  Zero current, Over-current HSS1, Over-current HSS2, Over-temperature mute, Over-temperature unmute
			DUMP_DEVICE_DEBUG_DEVICE_INFO_3	(PACKET_ID_DUMP_DEVICE_DEBUG_DEVICE_INFO_3),	//Index 3.  I2C error statistics
			DUMP_DEVICE_DEBUG_DEVICE_INFO_4	(PACKET_ID_DUMP_DEVICE_DEBUG_DEVICE_INFO_4),	//Index 4.  Mute state machine flags in format: Flag_name: Current_flag (History_flag)
			DUMP_DEVICE_DEBUG_DEVICE_INFO_10(PACKET_ID_DUMP_DEVICE_DEBUG_DEVICE_INFO_10),	//Index 10.  FCM info
			DUMP_DEVICE_DEBUG_DEVICE_INFO_11(PACKET_ID_DUMP_DEVICE_DEBUG_DEVICE_INFO_11),	//Index 11. 
			DUMP_POWER						(PACKET_ID_DUMP_POWER),

			CLEAR_STATISTICS	(PACKET_ID_CLEAR_STATISTICS),
			DUMP_REGISTER_1		(PACKET_ID_DUMP_REGISTER_1),
			DUMP_REGISTER_2		(PACKET_ID_DUMP_REGISTER_2),
			DUMP_REGISTER_3		(PACKET_ID_DUMP_REGISTER_3),
			DUMP_REGISTER_4		(PACKET_ID_DUMP_REGISTER_4),
			DUMP_REGISTER_5		(PACKET_ID_DUMP_REGISTER_5),
			DUMP_REGISTER_6		(PACKET_ID_DUMP_REGISTER_6),
			DUMP_REGISTER_7		(PACKET_ID_DUMP_REGISTER_7),
			DUMP_REGISTER_10	(PACKET_ID_DUMP_REGISTER_10),
			DUMP_REGISTER_100	(PACKET_ID_DUMP_REGISTER_100),
			DUMP_REGISTER_201	(PACKET_ID_DUMP_REGISTER_201),
			DUMP_REGISTER_202	(PACKET_ID_DUMP_REGISTER_202),
			DUMP_REGISTER_207	(PACKET_ID_DUMP_REGISTER_207),
			DUMP_REGISTER_220	(PACKET_ID_DUMP_REGISTER_220),

			PROTO_RETRANSNIT	(PACKET_ID_PROTO_RETRANSNIT);

			private short id;

			private PacketIDs(short id){
//				Arrays.stream(values()).filter(v->v.getId()==id).map(v->{throw new RuntimeException("Packet ID " + name() + " can not have the same id is " + v);});
				this.id = id;
			}

			public short getId() {
				return id;
			}

			public boolean match(short id){
				return this.id==id;
			}

			public String toString(){
				return name() + "(" + id + ")";
			}

			public static String toString(short id){
				return Arrays.stream(values()).parallel().filter(v->v.id==id).findAny().map(v->v.toString()).orElse(Short.toString(id));
			}
		}

		public enum AlarmsPacketIds{

		INDEFINED				((byte) 0, PACKET_UNNECESSARY),
		PLL_OUT_OF_LOCK			((byte) 1, PACKET_ID_ALARMS_PLL_OUT_OF_LOCK),
		TEMPERATURE_ThRESHOLD_1	((byte) 2, PACKET_ID_ALARMS_PLL_OUT_OF_LOCK),
		TEMPERATURE_ThRESHOLD_2	((byte) 3, PACKET_ID_ALARMS_PLL_OUT_OF_LOCK),
		OVER_CURRENT_ALARM		((byte) 4, PACKET_ID_ALARMS_OWER_CURRENT),
		UNDER_CURRENT_ALARM		((byte) 5, PACKET_ID_ALARMS_UNDER_CURRENT),
		ALC_ERROR				((byte) 6, PACKET_ID_ALARMS_UNDER_CURRENT),
		OVER_TEMPERATURE_ALARM	((byte) 7, PACKET_ID_ALARMS_OWER_TEMPERATURE),
		HW_FAULT				((byte)10, PACKET_ID_ALARMS_HARDWARE_FAULT),
		REDUNDANCY_FAULT		((byte)11, PACKET_ID_ALARMS_REDUNDANT_FAULT),
		RF_OVERDRIVE			((byte)12, PACKET_ID_RF_OVERDRIVEL),
		ALL_IDs					((byte)13, PACKET_ID_ALARMS_STATUS);//All possible data in one packet

		private short alarmId;
		private short packetId;

		public short getPacketId() {
			return packetId;
		}

		private AlarmsPacketIds(short alarmId, short packetId){
			this.alarmId = alarmId;
			this.packetId = packetId;
		}

		public static Optional<AlarmsPacketIds> valueOf(short alarmId){
//			LogManager.getLogger().error(alarmId);
			return Arrays.stream(values()).parallel().filter(a->a.alarmId==alarmId).findAny();
		}
	}

	public static final short	PACKET_ID_PROTOCOL_ADDRESS	= 150;

	/*		reserved for configuration from 170 to 179		*/
	/*		reserved for measurement from 180 to 189		*/

	public Priority 			getPriority();
	public PacketThreadWorker 	getPacketThread();
	public void 				addVlueChangeListener(ValueChangeListener valueChangeListener);
	public void 				removeVlueChangeListener(ValueChangeListener valuechangelistener);
	public boolean 				set(Packet packet);
	public void 				clear();
	public void 				removeVlueChangeListeners();
	public boolean 				isAddressEquals(Packet packet);
}
